<div class="overflow-x-auto bg-white rounded-lg shadow-md">
  <table class="min-w-full divide-y divide-light-gray">
    <thead class="bg-snow-white">
      <tr>
        <th
          scope="col"
          class="px-3 sm:px-6 py-3 text-left text-xs font-medium text-slate-gray uppercase tracking-wider cursor-pointer"
          @click="sortBy('id')"
        >
          <div class="flex items-center">
            <span class="whitespace-nowrap">Plant ID</span>
            <svg
              x-show="sortField === 'id'"
              xmlns="http://www.w3.org/2000/svg"
              class="ml-1 h-4 w-4"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              :class="{'rotate-180': !sortAsc}"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M5 15l7-7 7 7"
              />
            </svg>
          </div>
        </th>
        <th
          scope="col"
          class="px-3 sm:px-6 py-3 text-left text-xs font-medium text-slate-gray uppercase tracking-wider cursor-pointer"
          @click="sortBy('plantName')"
        >
          <div class="flex items-center">
            <span class="whitespace-nowrap">Plant Name</span>
            <svg
              x-show="sortField === 'plantName'"
              xmlns="http://www.w3.org/2000/svg"
              class="ml-1 h-4 w-4"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              :class="{'rotate-180': !sortAsc}"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M5 15l7-7 7 7"
              />
            </svg>
          </div>
        </th>
        <th
          scope="col"
          class="px-3 sm:px-6 py-3 text-left text-xs font-medium text-slate-gray uppercase tracking-wider hidden md:table-cell"
        >
          <div class="flex items-center">Timezone</div>
        </th>
        <th
          scope="col"
          class="px-3 sm:px-6 py-3 text-left text-xs font-medium text-slate-gray uppercase tracking-wider cursor-pointer"
          @click="sortBy('totalPower')"
        >
          <div class="flex items-center">
            <span class="whitespace-nowrap">Power</span>
            <svg
              x-show="sortField === 'totalPower'"
              xmlns="http://www.w3.org/2000/svg"
              class="ml-1 h-4 w-4"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              :class="{'rotate-180': !sortAsc}"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M5 15l7-7 7 7"
              />
            </svg>
          </div>
        </th>
        <th
          scope="col"
          class="px-3 sm:px-6 py-3 text-left text-xs font-medium text-slate-gray uppercase tracking-wider cursor-pointer hidden sm:table-cell"
          @click="sortBy('todayEnergy')"
        >
          <div class="flex items-center">
            <span class="whitespace-nowrap">Energy Today</span>
            <svg
              x-show="sortField === 'todayEnergy'"
              xmlns="http://www.w3.org/2000/svg"
              class="ml-1 h-4 w-4"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              :class="{'rotate-180': !sortAsc}"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M5 15l7-7 7 7"
              />
            </svg>
          </div>
        </th>
        <th
          scope="col"
          class="px-3 sm:px-6 py-3 text-left text-xs font-medium text-slate-gray uppercase tracking-wider"
        >
          Status
        </th>
        <th
          scope="col"
          class="px-3 sm:px-6 py-3 text-right text-xs font-medium text-slate-gray uppercase tracking-wider"
        >
          Actions
        </th>
      </tr>
    </thead>
    <tbody class="bg-white divide-y divide-light-gray">
      <template x-for="(plant, index) in paginatedPlants" :key="plant.id">
        <tr class="hover:bg-snow-white">
          <td
            class="px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm font-mono text-slate-gray"
          >
            <span x-text="plant.id"></span>
          </td>
          <td class="px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap">
            <div
              class="text-xs sm:text-sm font-medium text-deep-forest"
              x-text="plant.plantName"
            ></div>
          </td>
          <td
            class="px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-slate-gray hidden md:table-cell"
          >
            <span x-text="formatTimezone(plant.timezone)"></span>
          </td>
          <td class="px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap">
            <span
              class="text-xs sm:text-sm font-semibold text-eco-green"
              x-text="formatPower(plant.totalPower)"
            ></span>
          </td>
          <td
            class="px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap hidden sm:table-cell"
          >
            <span
              class="text-xs sm:text-sm font-semibold text-eco-green"
              x-text="formatEnergy(plant.todayEnergy)"
            ></span>
          </td>
          <td class="px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap">
            <span
              class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full"
              :class="getStatusClass(plant.status || 'active')"
              x-text="getStatusText(plant.status || 'active')"
            ></span>
          </td>
          <td
            class="px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-right text-xs sm:text-sm font-medium"
          >
            <a
              :href="'/plant/' + plant.id"
              class="text-eco-green hover:text-deep-forest transition-colors px-2 py-1"
            >
              View
            </a>
          </td>
        </tr>
      </template>
    </tbody>
  </table>
</div>

<div
  class="mb-6 bg-snow-white p-3 sm:p-4 rounded-lg shadow-sm border border-light-gray transition-all duration-300"
  :class="{'border-eco-green shadow-md bg-eco-green-5': statusFilter !== 'all' || searchQuery}"
>
  <div
    class="flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-5"
  >
    <div class="flex flex-grow items-center">
      <label
        for="status-filter"
        class="text-sm font-medium text-deep-forest mr-3 whitespace-nowrap"
        >Status:</label
      >
      <select
        id="status-filter"
        x-model="statusFilter"
        @change="applyFilters()"
        class="flex-grow form-control border p-1 border-gray-400 text-sm rounded-md border-light-gray focus:border-fresh-mint focus:ring-2 focus:ring-fresh-mint focus:ring-opacity-30 transition-all duration-200"
      >
        <option value="all" class="bg-white border">All Statuses</option>
        <option value="online" class="bg-green-50 text-green-700">
          Online
        </option>
        <option value="offline" class="bg-red-50 text-red-700">
          Offline
        </option>
        <option value="waiting" class="bg-yellow-50 text-yellow-700">
          Waiting
        </option>
      </select>
    </div>
    <div class="flex flex-grow items-center">
      <label
        for="search-input"
        class="text-sm font-medium text-deep-forest mr-3 whitespace-nowrap"
        >Search:</label
      >
      <div class="relative flex-grow">
        <input
          type="text"
          id="search-input"
          x-model="searchQuery"
          @input="debounceSearch()"
          placeholder="Search devices..."
          class="w-full form-control border border-gray-400 p-1 text-sm rounded-md pr-8 border-light-gray focus:border-fresh-mint focus:ring-2 focus:ring-fresh-mint focus:ring-opacity-30 transition-all duration-200"
        />
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-4 w-4 absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-gray"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
          />
        </svg>
        <button
          x-show="searchQuery"
          @click="searchQuery = ''; applyFilters()"
          class="absolute right-8 top-1/2 transform -translate-y-1/2 text-slate-gray hover:text-deep-forest"
          title="Clear search"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-4 w-4"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            />
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>
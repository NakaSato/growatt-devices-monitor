{% extends "base.html" %} {% block title %}Home - Growatt API{% endblock %} {%
block content %}
<div class="px-4 -mt-6 md:container md:mx-auto lg:px-0 lg:pt-4">
  <!-- Dashboard content with enhanced responsive support -->
  <div class="mt-6">
    {% include "components/dashboard_layout.html" %}

    <!-- Responsive quick actions bar -->
    <div class="mt-6 pt-4 border-t border-gray-100">
      <div
        class="grid grid-cols-2 xs:grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-6 gap-2 sm:gap-3 md:gap-4 md:max-w-3xl lg:max-w-4xl xl:max-w-none mx-auto"
      >
        <a
          href="/plants"
          class="bg-white hover:bg-slate-50 border border-gray-200 rounded-lg p-3 flex flex-col items-center justify-center text-center transition-colors group"
        >
          <i
            class="fas fa-solar-panel text-amber-500 text-lg mb-2 group-hover:scale-110 transition-transform"
          ></i>
          <span class="text-xs sm:text-sm font-medium text-slate-700"
            >Plants</span
          >
        </a>
        <a
          href="/devices"
          class="bg-white hover:bg-slate-50 border border-gray-200 rounded-lg p-3 flex flex-col items-center justify-center text-center transition-colors group"
        >
          <i
            class="fas fa-microchip text-blue-500 text-lg mb-2 group-hover:scale-110 transition-transform"
          ></i>
          <span class="text-xs sm:text-sm font-medium text-slate-700"
            >Devices</span
          >
        </a>
        <a
          href="/analytics"
          class="bg-white hover:bg-slate-50 border border-gray-200 rounded-lg p-3 flex flex-col items-center justify-center text-center transition-colors group"
        >
          <i
            class="fas fa-chart-line text-purple-500 text-lg mb-2 group-hover:scale-110 transition-transform"
          ></i>
          <span class="text-xs sm:text-sm font-medium text-slate-700"
            >Analytics</span
          >
        </a>
        <a
          href="/maps"
          class="bg-white hover:bg-slate-50 border border-gray-200 rounded-lg p-3 flex flex-col items-center justify-center text-center transition-colors group"
        >
          <i
            class="fas fa-map-marker-alt text-red-500 text-lg mb-2 group-hover:scale-110 transition-transform"
          ></i>
          <span class="text-xs sm:text-sm font-medium text-slate-700"
            >Maps</span
          >
        </a>
        <a
          href="#"
          class="hidden xs:flex bg-white hover:bg-slate-50 border border-gray-200 rounded-lg p-3 flex-col items-center justify-center text-center transition-colors group"
        >
          <i
            class="fas fa-cog text-gray-500 text-lg mb-2 group-hover:scale-110 transition-transform"
          ></i>
          <span class="text-xs sm:text-sm font-medium text-slate-700"
            >Settings</span
          >
        </a>
        <a
          href="#"
          class="hidden xs:flex bg-white hover:bg-slate-50 border border-gray-200 rounded-lg p-3 flex-col items-center justify-center text-center transition-colors group"
        >
          <i
            class="fas fa-download text-emerald-500 text-lg mb-2 group-hover:scale-110 transition-transform"
          ></i>
          <span class="text-xs sm:text-sm font-medium text-slate-700"
            >Export</span
          >
        </a>
      </div>
    </div>
  </div>
</div>

<!-- JavaScript for responsive dashboard -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Update time and date in the dashboard
    function updateDateTime() {
      const now = new Date();

      // Format date: May 1, 2025
      const options = { year: "numeric", month: "short", day: "numeric" };
      const dateElement = document.getElementById("dashboard-date");
      if (dateElement) {
        dateElement.textContent = now.toLocaleDateString(undefined, options);
      }

      // Format time: 14:35:22
      const timeElement = document.getElementById("dashboard-time");
      if (timeElement) {
        const hours = now.getHours().toString().padStart(2, "0");
        const minutes = now.getMinutes().toString().padStart(2, "0");
        timeElement.textContent = `${hours}:${minutes}`;
      }
    }

    // Update time initially and then every minute
    updateDateTime();
    setInterval(updateDateTime, 60000);

    // Apply responsive adjustments based on screen size
    function applyResponsiveAdjustments() {
      // This function will be triggered when the responsive state changes
      // You can use the global window.responsive object we created earlier

      // Example: Adjust layout based on device type
      if (window.responsive && window.responsive.isMobile) {
        // Mobile-specific adjustments (if needed)
      }
    }

    // Listen for responsive state changes
    window.addEventListener("responsive-changed", applyResponsiveAdjustments);

    // Initial application
    if (window.responsive) {
      applyResponsiveAdjustments();
    }
  });
</script>
{% endblock %}
